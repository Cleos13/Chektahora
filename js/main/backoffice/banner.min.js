$(document).ready(function(){function a(t){console.log(t),$.post("api/getBanners.php",{page:t},function(e){e=JSON.parse(e);let o;0!=e.length?(o=e.map(function(e){return`<div class="banner-item">
                                <div>
                                    <img src="../img/banners/mobile/${e.img_mobile}" width="50px">
                                </div>
                                <div>
                                    <img src="../img/banners/desktop/${e.img_desktop}" width="100px">
                                </div>
                                <div>
                                    <button class="btn-delete-banner" img_name_desktop="${e.img_desktop}" img_name_mobile="${e.img_mobile}" ref_banner="${e.id}" delete>Eliminar</button>
                                </div>
                            </div>`}),$("#"+t).html(o),$("[delete]").on("click",function(){var e=$(this).attr("ref_banner"),o=$(this).attr("img_name_desktop"),t=$(this).attr("img_name_mobile");$.post("api/getBanners.php?delete",{delete_id:e,desktop:o,mobile:t},function(e){console.log(e),1==e&&(a("home"),a("nosotros"),a("its"),a("covid"),a("clinicos"))})})):(o=`<div class="banner-item">
                                <div class="fw-bold text-morado">Sin banners activos</div>
                            </div>`,$("#"+t).html(o))})}a("home"),a("nosotros"),a("its"),a("covid"),a("clinicos");let s=!1,n=!1;function l(e){$(".alert-banner").html(e).addClass("active"),setTimeout(function(){$(".alert-banner").removeClass("active")},4e3)}$("#space_img_desktop").on("change",function(){let e=$(this).attr("id");console.log(e),$('[for="'+e+'"]').removeClass("error","active");var o=document.getElementById("space_img_desktop").files[0],t=window.URL||window.webkitURL,a=new Image;a.src=t.createObjectURL(o),a.onload=function(){console.log(a.height+" "+a.width),"1552x3840"==a.height+"x"+a.width?($('[for="'+e+'"]').addClass("active"),$('[space="'+e+'"]').attr({fill:"#00c900"}),s=!0):($('[for="'+e+'"]').addClass("error"),$('[space="'+e+'"]').attr({fill:"red"}),s=!1,l("La imagen no tiene las medidas correctas para desktop (1552x3840)"))}}),$("#space_img_mobile").on("change",function(){let e=$(this).attr("id");console.log(e),$('[for="'+e+'"]').removeClass("error","active");var o=document.getElementById("space_img_mobile").files[0],t=window.URL||window.webkitURL,a=new Image;a.src=t.createObjectURL(o),a.onload=function(){console.log(a.height+" "+a.width),"1552x1164"==a.height+"x"+a.width?($('[for="'+e+'"]').addClass("active"),$('[space="'+e+'"]').attr({fill:"#00c900"}),n=!0):($('[for="'+e+'"]').addClass("error"),$('[space="'+e+'"]').attr({fill:"red"}),n=!1,l("La imagen no tiene las medidas correctas para mobile (1552x1164)"))}}),$('[add="modal"]').on("click",function(){let i=$(this).attr("page");$("#shadow-add-banner").addClass("is-visible"),$('[for="space_img_desktop"]').removeClass("active"),$('[space="space_img_desktop"]').attr({fill:""}),$('[for="space_img_mobile"]').removeClass("active"),$('[space="space_img_mobile"]').attr({fill:""}),$('[type="file"]').val(""),console.log(i),$("#add_banner").on("click",function(){var e,o=i,t=document.getElementById("space_img_desktop").files[0],a=document.getElementById("space_img_mobile").files[0];1==s&&1==n&&($("#add_banner").addClass("display-none"),$("#loading").removeClass("display-none"),(e=new FormData).append("desktop",t),e.append("mobile",a),(t=new XMLHttpRequest).open("POST","api/addBanner.php?page="+o,!0),t.onreadystatechange=function(){var e;4==this.readyState&&200==this.status&&(e=this.responseText,console.log(e),1==e?location.reload():l("Sucedio un problema"))},t.send(e))})}),$("#close-modal").on("click",function(){$("#shadow-add-banner").removeClass("is-visible")})}),"close"!=localStorage.getItem("menu-estatus")&&null!=localStorage.getItem("menu-estatus")||($(".menu-backoffice").hide(),$("#menu-backoffice").attr({style:"width: 1.4%;"}).addClass("menu-close")),"close"!=localStorage.getItem("menu-estatus-mobile")&&null!=localStorage.getItem("menu-estatus-mobile")||($(".menu-backoffice-mobile").hide(),$(".menu-mobile-options").hide().addClass("menu-close")),$("#btn-backoffice").click(function(){$("#menu-backoffice").hasClass("menu-close")?(localStorage.setItem("menu-estatus","open"),$(".menu-backoffice").show(200),$("#menu-backoffice").attr({style:"width: 450px !important; transition: width 0.6s;"}).removeClass("menu-close")):(localStorage.setItem("menu-estatus","close"),$(".menu-backoffice").hide(),$("#menu-backoffice").attr({style:"width: 1.4%; transition: width 0.5s;"}).addClass("menu-close"))}),$("#menu-mobile-backoffice, #close-mobile-backoffice").click(function(){$(".menu-mobile-options").hasClass("menu-close")?(localStorage.setItem("menu-estatus-mobile","open"),$(".menu-backoffice-mobile").show(),$(".menu-mobile-options").show(100).removeClass("menu-close")):(localStorage.setItem("menu-estatus-mobile","close"),$(".menu-backoffice-mobile").hide(),$(".menu-mobile-options").hide().addClass("menu-close"))});